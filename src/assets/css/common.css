/* Common styles for all pages */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

body {
  -webkit-user-select: none;
  user-select: none;
  font-family: Arial, sans-serif;
  overscroll-behavior-y: none;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
  position: fixed;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

html {
  overscroll-behavior-y: none;
  position: fixed;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

input,
textarea {
  -webkit-user-select: text;
  user-select: text;
  -webkit-touch-callout: default;
}

/* Disable ALL transition, animation, and transform effects when changing routes */
#app,
#app
  *:not(.loading-screen):not(.loading-screen *):not(#flashcard-page):not(
    #flashcard-page *
  ):not(.update-notification):not(.update-notification *):not(
    .update-notification-overlay
  ),
router-view,
router-view
  *:not(.loading-screen):not(.loading-screen *):not(#flashcard-page):not(
    #flashcard-page *
  ):not(.update-notification):not(.update-notification *):not(
    .update-notification-overlay
  ),
.router-view,
.router-view
  *:not(.loading-screen):not(.loading-screen *):not(#flashcard-page):not(
    #flashcard-page *
  ):not(.update-notification):not(.update-notification *):not(
    .update-notification-overlay
  ),
[data-v-],
[data-v-]
  *:not(.loading-screen):not(.loading-screen *):not(#flashcard-page):not(
    #flashcard-page *
  ):not(.update-notification):not(.update-notification *):not(
    .update-notification-overlay
  ),
.v-enter-active,
.v-leave-active,
.v-enter-from,
.v-leave-to,
.v-enter,
.v-leave,
.v-enter-to,
.v-leave-from,
.desktop-container,
.home-container,
.menu-container,
.dashboard-container,
.computer-screen,
.screen-content {
  transition: none !important;
  animation: none !important;
  transform: none !important;
  scale: 1 !important;
  opacity: 1 !important;
  will-change: auto !important;
}

/* Exception: Allow menu-icon to have transform on hover - must be after the disable rule */
/* Use more specific selector to override #app * */
#app .menu-item:hover .menu-icon,
#app .menu-item:active .menu-icon,
.menu-item:hover .menu-icon,
.menu-item:active .menu-icon {
  transform: scale(1.1) rotate(20deg) !important;
  transition: transform 0.3s ease !important;
}

/* Exception: Allow loading screen to have proper flexbox layout */
.loading-screen,
.loading-screen *,
.loading-container,
.loading-container * {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.loading-screen {
  flex-direction: column !important;
}

.loading-container {
  flex-direction: column !important;
}

/* Exception: Allow loading screen to have proper flexbox layout */
.loading-screen {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}

.loading-container {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}

.progress-bar,
.progress-fill {
  display: block !important;
}

.loading-progress,
.loading-message {
  display: block !important;
}

/* Exception: Allow flashcard to have transform for flip animation */
#flashcard-page .flashcard-wrapper {
  transform: none !important;
  transform-style: preserve-3d !important;
  transition: none !important;
  animation: none !important;
}

#flashcard-page .flashcard {
  transform: rotateY(0deg) !important;
  transition: transform 0.6s ease !important;
  transform-style: preserve-3d !important;
  animation: none !important;
}

#flashcard-page .flashcard.flipped {
  transform: rotateY(180deg) !important;
}

#flashcard-page .flashcard-front,
#flashcard-page .flashcard-back {
  transform-style: preserve-3d !important;
  backface-visibility: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  transition: transform 0.2s, box-shadow 0.2s !important;
  animation: none !important;
}

#flashcard-page .flashcard-front {
  transform: rotateY(0deg) !important;
}

#flashcard-page .flashcard-back {
  transform: rotateY(180deg) !important;
}

#flashcard-page .flashcard-front:hover {
  transform: rotateY(0deg) scale(1.02) !important;
}

#flashcard-page .flashcard-back:hover {
  transform: rotateY(180deg) scale(1.02) !important;
}

/* Exception: Allow flashcard content and label to display properly */
#flashcard-page .flashcard-content {
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  height: 100% !important;
  text-align: center !important;
  padding: 0 !important;
}

#flashcard-page .flashcard-label {
  display: block !important;
  width: 100% !important;
  opacity: 1 !important;
  font-size: 1.2em !important;
  font-weight: 500 !important;
  text-transform: uppercase !important;
  text-align: center !important;
  padding: 10px !important;
  color: white !important;
  flex-shrink: 0 !important;
  border-bottom: 2px solid rgba(0, 0, 0, 0.1) !important;
  border-radius: 0 !important;
  box-sizing: border-box !important;
}

#flashcard-page .flashcard-front .flashcard-label {
  background: rgba(76, 175, 80, 0.8) !important;
}

#flashcard-page .flashcard-back .flashcard-label {
  background: rgba(255, 152, 0, 0.8) !important;
}

#flashcard-page .flashcard-text {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 3em !important;
  line-height: 1.4 !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  padding: 40px !important;
  flex: 1 !important;
}

#flashcard-page #meaningText,
#flashcard-page .flashcard-back .flashcard-text {
  padding: 0 !important;
  font-size: 1.5em !important;
  font-weight: normal !important;
}

#flashcard-page .flashcard-furigana {
  font-size: 2.5em !important;
  font-weight: 500 !important;
  line-height: 1.4 !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  padding: 20px 40px 10px 40px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: #333 !important;
  flex: 0 0 80% !important;
  min-height: 0 !important;
}

#flashcard-page .flashcard-meaning {
  font-size: 1em !important;
  font-weight: normal !important;
  line-height: 1.6 !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  padding: 10px 30px 40px 30px !important;
  flex: 0 0 20% !important;
  min-height: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: #555 !important;
}

/* Ensure router-view has proper display */
router-view {
  display: block;
  width: 100% !important;
  height: auto !important;
}

body.practice-page {
  background: linear-gradient(
    180deg,
    #c5d5e5 0%,
    #a8d5e8 25%,
    #6ba8d6 60%,
    #5a9fd4 100%
  );
  background-attachment: fixed;
  min-height: 100vh;
  padding: 20px;
  padding-left: 0;
  position: relative;
  overflow-x: hidden;
}

body.practice-page::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
      ellipse at 20% 80%,
      rgba(255, 255, 255, 0.1) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 80% 20%,
      rgba(255, 255, 255, 0.1) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 40% 40%,
      rgba(255, 255, 255, 0.05) 0%,
      transparent 50%
    );
  pointer-events: none;
  z-index: 0;
}

@media (max-width: 600px) {
  body.practice-page {
    padding: 0 !important;
  }
}
