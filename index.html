<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Học Từ Vựng</title>
    <!-- Common CSS for all pages -->
    <link rel="stylesheet" href="src/assets/css/common.css" />
    <!-- Page-specific CSS will be loaded dynamically -->
  </head>
  <body>
    <div id="app"></div>
    
    <!-- Vue 3 from CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
    
    <!-- Load templates first -->
    <script src="src/utils/templates.js"></script>
    
    <!-- Load views (pages) - must be loaded before router -->
    <script src="src/views/Home.js"></script>
    <script src="src/views/PracticeMenu.js"></script>
    <script src="src/views/Practice.js"></script>
    <script src="src/views/Flashcard.js"></script>
    <script src="src/views/NotFound.js"></script>
    
    <!-- Load router -->
    <script src="src/router/index.js"></script>
    
    <!-- Load App -->
    <script src="src/App.js"></script>
    
    <!-- Load main app after templates are loaded -->
    <script>
      // Load all templates before initializing the app
      loadAllTemplates().then(() => {
        console.log('All templates loaded, initializing app...');
        // Wait a bit to ensure all components and router are loaded
        setTimeout(() => {
          // Load main app after everything is ready
          const script = document.createElement('script');
          script.src = 'src/main.js';
          document.head.appendChild(script);
        }, 100);
      }).catch(error => {
        console.error('Error loading templates:', error);
        // Still try to load main.js even if templates fail
        setTimeout(() => {
          const script = document.createElement('script');
          script.src = 'src/main.js';
          document.head.appendChild(script);
        }, 100);
      });
    </script>
    
    <!-- CSS loading is now handled in src/main.js via router.afterEach -->
  </body>
</html>
